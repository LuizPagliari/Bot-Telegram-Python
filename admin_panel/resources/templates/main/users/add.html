{% extends 'common/home.html' %}
{% load static %}

{% block home %}
  <h1>User adding</h1>

  <form method="post" action="{% url 'users_create' %}">
    {% csrf_token %}
    <div class="form-group row">
      <label class="col-sm-2">Name:</label>
      <div class="col-sm-10">
        <input class="form-control" name="name" value="{{ user.name|default:'' }}">
        {% if nameError %}
          <div class="text-warning">{{ nameError }}</div>
        {% endif %}
      </div>
    </div>

    <div class="form-group row">
      <label class="col-sm-2">Username:</label>
      <div class="col-sm-10">
        <input class="form-control" name="username" value="{{ user.username|default:'' }}">
        {% if usernameError %}
          <div class="text-warning">{{ usernameError }}</div>
        {% endif %}
      </div>
    </div>

    <div class="form-group row">
      <label class="col-sm-2">Password:</label>
      <div class="col-sm-10">
        <input class="form-control" name="password" value="{{ user.password|default:'' }}">
        {% if passwordError %}
          <div class="text-warning">{{ passwordError }}</div>
        {% endif %}
      </div>
    </div>

    <div class="form-group row">
      <label class="col-sm-2">Role:</label>
      <div class="col-sm-10">
        <select class="form-control" name="role">
          {% for role in roles %}
            <option value="{{ role.name }}"
                    {% if user and user.role and user.role.name == role.name %}selected{% endif %}>
              {{ role.value }}
            </option>
          {% endfor %}
        </select>
      </div>
    </div>

    <button class="btn btn-success" type="submit">Create</button>
  </form>

  <form method="get" action="{% url 'users' %}">
    <button class="btn btn-info" type="submit">Back</button>
  </form>
{% endblock %}
