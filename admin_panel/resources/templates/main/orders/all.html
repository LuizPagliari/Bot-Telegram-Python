{% extends 'common/home.html' %}
{% load static %}

{% block content %}
<h1>Orders list</h1>
{% block head %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'css/dataTables.bootstrap.css' %}">
  <link rel="stylesheet" href="{% static 'css/custom.css' %}">
  <script src="{% static 'js/jquery.dataTables.js' %}"></script>
  <script src="{% static 'js/dataTables.responsive.js' %}"></script>
  <script src="{% static 'js/dataTables.bootstrap.js' %}"></script>
  <script src="{% static 'js/jquery-1.10.2.js' %}"></script>
  <script src="{% static 'js/bootstrap.js' %}"></script>
{% endblock %}

{% include 'common/table.html' with name="orders" %}

{% block table %}
<table id="orders" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th>Id</th>
      <th>Client</th>
      <th>Date</th>
      <th>Status</th>
      <th>Amount</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for order in orders %}
      <tr>
        <td>{{ order.id }}</td>
        <td>{{ order.client.name|default:'' }} (<a target="_blank" href="{% url 'list_orders_by_client' order.client.id %}">view</a>)</td>
        <td>{{ order.createdDate|date:"d.m.Y H:i" }}</td>
        <td>{{ order.status.value }}</td>
        <td>{{ order.amount }} $</td>
        <td>
          <a class="btn btn-xs btn-info" href="{% url 'update_order' order.id %}">
            <i class="fa fa-pencil" aria-hidden="true"></i>
          </a>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
{% endblock %}

