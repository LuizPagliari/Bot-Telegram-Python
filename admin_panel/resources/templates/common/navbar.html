{% load static %}
{% include 'common/security.html' %}

<nav class="navbar navbar-default custom-navbar">
  <div class="container-fluid">

    <!-- Header da Navbar -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="{% url 'home' %}">Admin Panel</a>
    </div>

    <!-- Conteúdo da Navbar -->
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="{% url 'clients' %}"><i class="fa fa-users mr-1"></i> Clients</a></li>
        <li><a href="{% url 'categories' %}"><i class="fa fa-folder-open mr-1"></i> Categories</a></li>
        <li><a href="{% url 'products' %}"><i class="fa fa-archive mr-1"></i> Products</a></li>
        <li><a href="{% url 'orders' %}"><i class="fa fa-cart-arrow-down mr-1"></i> Orders</a></li>
        <li><a href="{% url 'message' %}"><i class="fa fa-comment mr-1"></i> Broadcasts</a></li>

        <!-- Links adicionais para usuários autenticados e staff -->
        {% if user.is_authenticated and user.is_staff %}
          <li><a href="{% url 'message' %}"><i class="fa fa-envelope mr-1"></i> Messages</a></li>
          <li><a href="{% url 'users' %}"><i class="fa fa-user-secret mr-1"></i> Users</a></li>
        {% endif %}
      </ul>

      <!-- Área de logout e exibição do nome de usuário -->
      <div class="navbar-text navbar-right">
        {% if user.is_authenticated %}
          <form action="{% url 'logout' %}" method="post" class="d-inline-block">
            {% csrf_token %}
            <button type="submit" class="btn btn-xs btn-warning">Log out</button>
          </form>
          <span class="navbar-text">
            <i>{{ user.username }}</i>
          </span>
        {% endif %}
      </div>
    </div>

  </div>
</nav>
